{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/fileUploader.js","node_modules/deepmerge/dist/umd.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_deepmerge","window","FileUploader","$el","options","_this","this","instance","_defaults","lang","useFileIcons","debug","debugLogStyle","name","undefined","pluginName","useLoadingBars","loadingBarsClasses","reloadedFilesClass","resultContainerClass","resultFileContainerClass","resultPrefix","resultInputNames","defaultFileExt","defaultMimeType","maxFileSize","maxTotalSize","maxNumberOfFiles","reloadArray","reloadHTML","linkButtonContent","deleteButtonContent","showErrorOnLoadBar","allowDuplicates","duplicatesWarning","labelsContainers","useSourceFileSize","mimeTypesToOpen","labelsClasses","sizeAvailable","currentSize","currentNumberOfFiles","numberOfUploadedFiles","numberOfRejectedFiles","HTMLTemplate","onload","onfileloadStart","onfileloadEnd","onfileRejected","onfileDelete","filenameTest","langs","en","intro_msg","dropZone_msg","maxSizeExceeded_msg","maxTotalSizeExceeded_msg","maxNumberOfFilesExceeded_msg","duplicated_msg","updateLabel","type","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","instanceLabels","concat","Symbol","iterator","next","done","labelSpan","querySelector","prevValue","parseInt","innerHTML","err","updateFileSeeLink","result","uploaderContainer","fileName","mimeType","substring","indexOf","fileSeeLink","_options","addEventListener","open","document","write","setAttribute","arrayMerge","dest","source","_round","Math","round","get","parameter","currentTotalSize","_logger","message","level","data","console","log","_fileType","ext","lastIndexOf","_fileDelete","event","element","index","target","dataset","closest","selector","sibling","previousElementSibling","matches","getPreviousSibling","remove","fileSize","$resultContainer","availableSize","children","classList","add","_fileRename","$this","text","$input","nameTest","$fileThumbsContainer","preventDefault","setSelectionRange","start","stop","getData","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","querySelectorAll","inputs","file","title","push","_createUploaderContainer","fileExt","currentThumb","insertAdjacentHTML","container","createElement","className","style","position","appendChild","fileButtonsContainer","seeFileLink","deleteBtn","append","classes","join","currentLoadBar","prepend","currentTitle","currentExtension","events","handler","Array","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_event","addMultipleListeners","selectionStart","selectionEnd","_createResultContainer","fileData","resultElemContainer","size","_filesRead","filesList","DOM","approvedList","files","dataTransfer","loadedFiles","newFiles","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","forEach","newFile","$fileContainer","readFile","reader","currentElement","from","filter","onloadstart","onprogress","lengthComputable","percentLoaded","loaded","total","width","onloadend","utf8String","charCodeAt","byteLength","resultObject","currentAvailableSize","isReadAllowed","rejectReasons","readAsDataURL","reasons","errorMsg","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","currentLangObj","loadBar","setTimeout","readRejected","appendMessage","$message","_file","FileReader","$info","globalIndex","template","loadedFile","$loadBtn","dropZone","label","sizeAvailableLabels","currentNumberOfFilesLabels","numberOfUploadedFilesLabels","numberOfRejectedFilesLabels","getContainer","_label","findLabel","labels","isArray","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_container","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","entries","_step7$value","_slicedToArray","substr","parseFloat","handleDragOver","stopPropagation","dropEffect","handleDrop","click","fileUploader","elementDOM","global","factory","isMergeableObject","isNonNullObject","stringValue","Object","prototype","toString","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","val","emptyTarget","defaultArrayMerge","map","mergeObject","destination","keys","key","customMerge","getMergeFunction","sourceIsArray","all","array","reduce","prev","define","amd"],"mappings":"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","file":"fileUploader.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import deepMerge from 'deepmerge';\n\n\n/*\n* fileUploader v5.6.19\n* Licensed under MIT (https://raw.githubusercontent.com/Cerealkillerway/fileUploader/master/license.txt)\n*/\n(function(context) {\n    context.FileUploader = function($el, options) {\n        let instance = this;\n\n        // default options\n        this._defaults = {\n            lang: 'en',\n            useFileIcons: true,\n\n            debug: false,                                                  // activate console logs for debug\n            debugLogStyle: 'color: #9900ff',                               // css style for debug console logs in js console\n            name: undefined,                                               // a name for plugin's instance (useful for debug purposes)\n            pluginName: 'FileUploader',                                    // plugin's name (used in debug logs alongside with name)\n\n            useLoadingBars: true,                                          // insert loading bar for files\n            loadingBarsClasses: [],                                        // array of strings for classnames for loading bars\n            reloadedFilesClass: 'reloadedElement',                         // class for previously uploaded files\n            resultContainerClass: 'result',                                // result container's class (where to place result files data)\n            resultFileContainerClass: 'uploadedFile',                      // class for every file result container span\n            resultPrefix: 'fileUploader',                                  // prefix for inputs in the file result container\n            resultInputNames: ['title', 'extension', 'value', 'size'],     // name suffix to be used for result inputs\n            defaultFileExt: '',                                            // extension to use for files with no extension\n            defaultMimeType: '',                                           // MIME type to use for files with no extension\n            maxFileSize: 50,                                               // maximum allowed file size (in MB)\n            maxTotalSize: 1000,                                            // total maximum allowed size of all files\n            maxNumberOfFiles: false,                                       // maximum number of files allowed to upload\n            reloadArray: [],                                               // array of files to be reloaded at plugin startup\n            reloadHTML: undefined,                                         // HTML for reloaded files to place directly in result container\n            linkButtonContent: 'L',                                        // HTML content for link button\n            deleteButtonContent: 'X',                                      // HTML content for delete button\n            showErrorOnLoadBar: true,                                      // decides if the reason for a rejected file will be displayed over its load bar;\n                                                                           // in case the file is rejected because of more than one reason, only the first one will be displayed on the bar;\n            allowDuplicates: false,                                        // allow upload duplicates\n            duplicatesWarning: false,                                      // show a message in the loading area when trying to load a duplicated file\n            labelsContainers: false,                                       // query selector for the container where to look for labels (ex. '#myId'), (default 'false' -> no labels;\n                                                                           // can be a string for a single value, or an array if the plugin has to update labels in many places;\n            useSourceFileSize: false,                                      // tells to the plugin to use the original file size in size calculations; by default it will use the size of the\n                                                                           // base64 string created by the reader instead (which is bigger);\n            mimeTypesToOpen: [                                             // when clicking the \"open\" button, a file with mimeType in this list will be opened in a new tab of the browser\n                'application/pdf',                                         // while others are just downloaded;\n                'image/png',\n                'image/jpeg'\n            ],\n            labelsClasses: {                                               // dictionary of classes used by the various labels handled by the plugin\n                sizeAvailable: 'sizeAvailable',\n                currentSize: 'currentSize',\n                currentNumberOfFiles: 'currentNumberOfFiles',\n                maxFileSize: 'maxFileSize',\n                maxTotalSize: 'maxTotalSize',\n                maxNumberOfFiles: 'maxNumberOfFiles',\n                numberOfUploadedFiles: 'numberOfUploadedFiles',\n                numberOfRejectedFiles: 'numberOfRejectedFiles'\n            },\n\n            HTMLTemplate: () => {\n                return `<p class=\"introMsg\"></p>\n                    <div>\n                        <div class=\"inputContainer\">\n                            <input class=\"fileLoader\" type=\"file\" multiple />\n                        </div>\n                        <div class=\"dropZone\"></div>\n                        <div class=\"filesContainer filesContainerEmpty\">\n                            <div class=\"innerFileThumbs\"></div>\n                            <div style=\"clear:both;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"result\"></div>`;\n            },\n\n            onload: () => {},                                             // callback on plugin initialization\n            onfileloadStart: () => {},                                    // callback on file reader start\n            onfileloadEnd: () => {},                                      // callback on file reader end\n            onfileRejected: () => {},                                     // callback on file rejected\n            onfileDelete: () => {},                                       // callback on file delete\n            filenameTest: () => {},                                       // callback for testing filenames\n\n            langs: {\n                'en': {\n                    intro_msg: '(Add attachments...)',\n                    dropZone_msg: 'Drop your files here',\n                    maxSizeExceeded_msg: 'File too large',\n                    maxTotalSizeExceeded_msg: 'Total size exceeded',\n                    maxNumberOfFilesExceeded_msg: 'Number of files allowed exceeded',\n                    duplicated_msg: 'File duplicated (skipped)'\n                }\n            }\n        };\n\n\n        // UTILITIES\n        const addMultipleListeners = function (element, events, handler) {\n            if (!(events instanceof Array)) {\n                this._logger('addMultipleListeners requires events to be an array');\n            }\n            for (const event of events) {\n                element.addEventListener(event, handler);\n            }\n        }\n\n\n        const getPreviousSibling = function(element, selector) {\n            let sibling = element.previousElementSibling;\n\n            if (!selector) return sibling;\n\n            while (sibling) {\n                if (sibling.matches(selector)) {\n                    return sibling;\n                }\n                sibling = sibling.previousElementSibling;\n            }\n        };\n\n\n        const updateLabel = function(type, value) {\n            for (let label of instanceLabels[`${type}Labels`]) {\n                let labelSpan = label.querySelector(':scope > span');\n                let prevValue;\n\n                switch(value) {\n                    case '++':\n                    prevValue = parseInt(labelSpan.innerHTML) + 1;\n                    labelSpan.innerHTML = prevValue;\n                    break;\n\n                    case '--':\n                    prevValue = parseInt(labelSpan.innerHTML) - 1;\n                    labelSpan.innerHTML = prevValue;\n                    break;\n\n                    default:\n                    labelSpan.innerHTML = value;\n                }\n            }\n        }\n\n\n        // returns the byte length of an utf8 string\n        const byteLength = function(utf8String) {\n            let size = utf8String.length;\n\n            for (let i = utf8String.length - 1; i >= 0; i--) {\n                let code = utf8String.charCodeAt(i);\n\n                if (code > 0x7f && code <= 0x7ff) {\n                    size++;\n                }\n                else {\n                    if (code > 0x7ff && code <= 0xffff) {\n                        size += 2;\n                    }\n                }\n                //trail surrogate\n                if (code >= 0xDC00 && code <= 0xDFFF) {\n                    i--;\n                }\n            }\n\n            return size;\n        }\n\n\n        // update open file button attributes\n        const updateFileSeeLink = (result, uploaderContainer, fileName) => {\n            let mimeType = result.substring(5, result.indexOf(';'));\n            let fileSeeLink = uploaderContainer.querySelector('.fileSee');\n        \n            if (this._options.mimeTypesToOpen.indexOf(mimeType) >= 0) {\n                \n                fileSeeLink.addEventListener('click', () => {\n                    let win = window.open();                            \n\n                    win.document.write(`<iframe src=\"${result}\" frameborder=\"0\" style=\"border:0; top:0px; display:block; left:0px; bottom:0px; right:0px; width:100%; min-height: 100vh; height:100%;\" allowfullscreen></iframe>`)\n                })\n            }\n            else {\n                fileSeeLink.setAttribute('href', result);\n                fileSeeLink.setAttribute('download', fileName);\n            }\n        }\n\n\n        // extend options with instance ones\n        const overwriteMerge = (dest, source, options) => source;\n        this._options = deepMerge(this._defaults, options, {\n            arrayMerge: overwriteMerge\n        });\n\n\n        // add more options\n        this.options = (options) => {\n            return (options) ? deepMerge(this._options, options) : this._options;\n        };\n\n\n        // round number\n        this._round = (value) => {\n            return Math.round(value * 100) / 100;\n        };\n\n\n        // return data\n        this.get = (parameter) => {\n            switch (parameter) {\n                case 'currentTotalSize':\n                return this._round(currentTotalSize);\n\n                case 'currentAvailableSize':\n                return this._round(this._options.maxTotalSize - currentTotalSize);\n\n                case 'currentNumberOfFiles':\n                return currentNumberOfFiles;\n\n                case 'availableNumberOfFiles':\n                return this._options.maxNumberOfFiles - currentNumberOfFiles;\n            }\n        };\n\n\n        // debug logs function\n        this._logger = (message, level, data) => {\n            if (this._options.debug) {\n                if (level) {\n                    for (let i = 0; i < level; i++) {\n                        message = '\\u27A1 ' + message;\n                    }\n                }\n                if (this._options.name) {\n                    message = '[' + this._options.pluginName + ' - ' + this._options.name + '] ' + message;\n                }\n\n                if (data) {\n                    console.log('%c ' + message, this._options.debugLogStyle, data);\n                }\n                else {\n                    console.log('%c ' + message, this._options.debugLogStyle);\n                }\n            }\n        };\n\n\n        // file type identificator\n        this._fileType = (fileName) => {\n            let ext = fileName.substring(fileName.lastIndexOf('.') + 1, fileName.length);\n            let icons = ['pdf', 'jpg', 'png'];\n\n            if (icons.indexOf(ext) >= 0) {\n                return ext;\n            }\n            else {\n                return 'unknown-file';\n            }\n        };\n\n\n        // method for deleting a reader's result from result container\n        this._fileDelete = (event, data) => {\n            let element = data.element;\n            let index = event.target.dataset.delete;\n\n            if (!index) {\n                index = event.target.closest('div[data-delete]').dataset.delete;\n            }\n\n            // remove file block\n            if (this._options.useFileIcons) {\n                getPreviousSibling(element, 'img').remove();\n            }\n            element.remove();\n\n            // get file size\n            let fileSize = $resultContainer.querySelector(`input[name=\"${this._options.resultPrefix}[${index}][${this._options.resultInputNames[3]}]\"]`).value;\n\n            fileSize = this._round(fileSize);\n            currentTotalSize = this._round(currentTotalSize - fileSize);\n            currentNumberOfFiles--;\n\n            let availableSize = this._options.maxTotalSize - currentTotalSize;\n\n            availableSize = this._round(availableSize);\n            updateLabel('sizeAvailable', availableSize);\n            updateLabel('currentSize', currentTotalSize);\n            updateLabel('currentNumberOfFiles', currentNumberOfFiles);\n            updateLabel('numberOfUploadedFiles', '--');\n\n            // remove result block\n            $resultContainer.querySelector(`:scope > div[data-index=\"${index}\"]`).remove();\n\n            if (document.querySelector('.innerFileThumbs').children.length === 0) {\n                document.querySelector('.filesContainer').classList.add('filesContainerEmpty');\n            }\n\n            this._logger('Deleted file N: ' + index, 2);\n            this._options.onfileDelete(index, currentTotalSize, currentNumberOfFiles);\n        };\n\n\n        // method to rename file in result container accordingly to modifications by user\n        this._fileRename = (event) => {\n            let element = event.data.element;\n            let $this = event.target;\n            let ext = element.querySelector(':scope > .fileExt').innerHTML;\n            let text = $this.value;\n            let index = element.dataset.index;\n            let $input = $resultContainer.querySelector(`div[data-index=\"${index}\"] input`);\n            let nameTest = this._options.filenameTest(text, ext, $fileThumbsContainer);\n\n            if (nameTest === false) {\n                event.preventDefault();\n                return false;\n            }\n            if (nameTest !== undefined && nameTest !== true) {\n                text = nameTest;\n                $this.value = text;\n\n                // update input\n                /*if (ext.length > 0) {\n                    text = `${text}.${ext}`;\n                }*/\n\n                $input.value = text;\n                // restore selection range\n                $this.setSelectionRange(event.data.start, event.data.stop);\n            }\n        };\n\n\n        this.getData = () => {\n            let data = [];\n\n            this._logger('RECEIVED SAVE COMMAND:', 0);\n\n            for (const element of $resultContainer.querySelectorAll(`:scope > .${this._options.resultFileContainerClass}`)) {\n                let inputs = element.querySelectorAll(':scope > input');\n                let file = {\n                    title: inputs[0].value,\n                    ext: inputs[1].value,\n                    value: inputs[2].value\n                };\n\n                data.push(file);\n            }\n\n            this._logger('%O', 0 ,data);\n            return data;\n        };\n\n\n        // create container for file uploading elements (icon, progress bar, etc...)\n        this._createUploaderContainer = (index, fileName, fileExt) => {\n            //insert file icon if requested\n            if (this._options.useFileIcons) {\n                let currentThumb = `<img src=\"/images/${this._fileType(fileExt)}.png\" class=\"fileThumb\" />`;\n                $fileThumbsContainer.insertAdjacentHTML('beforeend', currentThumb);\n            }\n\n            let container = document.createElement('div');\n\n            container.className = 'newElement';\n            container.dataset.index = parseInt(index);\n            container.style.position = 'relative';\n            $fileThumbsContainer.appendChild(container);\n\n            let fileButtonsContainer = document.createElement('div');\n\n            fileButtonsContainer.className = 'fileActions';\n            container.appendChild(fileButtonsContainer);\n\n            // file \"see\" link\n            let seeFileLink = document.createElement('a');\n\n            seeFileLink.className = 'fileSee';\n            seeFileLink.innerHTML = this._options.linkButtonContent;\n\n            fileButtonsContainer.appendChild(seeFileLink);\n\n            /*seeFileLink.addEventListener('click', (event) => {\n                let index = event.target.closest('.newElement').dataset.index;\n                let content = $resultContainer.querySelector(`.uploadedFile[data-index=\"${index}\"] textarea`).value;\n                //let win = window.open();\n                let mimeType = content.substring(5, content.indexOf(';'));\n                \n                if (this._options.mimeTypesToOpen.indexOf(mimeType) >= 0) {\n                    console.log('open!!');\n                    window.open(content);\n                }\n\n                //win.document.write(`<iframe src=\"${content}\" frameborder=\"0\" style=\"border:0; top:0px; display:block; left:0px; bottom:0px; right:0px; width:100%; min-height: 100vh; height:100%;\" allowfullscreen></iframe>`)\n            });*/\n\n            // delete button\n            let deleteBtn = document.createElement('div');\n            deleteBtn.className = 'fileDelete';\n            deleteBtn.dataset.delete = parseInt(index);\n            deleteBtn.innerHTML = this._options.deleteButtonContent;\n            fileButtonsContainer.append(deleteBtn);\n            deleteBtn.addEventListener('click', (event) => {\n                this._fileDelete(event, {element: container});\n            });\n\n            //insert loading bars if requested\n            if (this._options.useLoadingBars) {\n                let classes = this._options.loadingBarsClasses;\n\n                if (classes.length > 0) {\n                    classes = classes.join(' ');\n                }\n\n                let currentLoadBar = document.createElement('div');\n                currentLoadBar.className = `loadBar ${classes}`;\n                currentLoadBar.appendChild(document.createElement('div'));\n                container.prepend(currentLoadBar);\n            }\n\n            let currentTitle = document.createElement('input');\n\n            // TODO translate placeholder\n            currentTitle.setAttribute('placeholder', 'nome');\n            currentTitle.className = 'fileTitle';\n\n            let currentExtension = document.createElement('div');\n\n            currentExtension.className = 'fileExt';\n            container.prepend(currentExtension);\n            container.prepend(currentTitle);\n\n            addMultipleListeners(currentTitle, ['keypress', 'keyup', 'paste'], function(event) {\n                event.data = {};\n                event.data.element = container;\n                event.data.start = this.selectionStart;\n                event.data.stop = this.selectionEnd;\n                instance._fileRename(event);\n            });\n\n            currentTitle.value = fileName;\n            currentExtension.innerHTML = fileExt;\n\n            return container;\n        };\n\n\n        this._createResultContainer = (fileData) => {\n            let index = fileData.index;\n            let resultElemContainer = document.createElement('div');\n\n            resultElemContainer.className = this._options.resultFileContainerClass;\n            resultElemContainer.dataset.index = index;\n            resultElemContainer.insertAdjacentHTML('beforeend', `<div>File: ${index}</div>`);\n            resultElemContainer.insertAdjacentHTML('beforeend', `<input type=\"text\" name=\"${this._options.resultPrefix}[${index}][${this._options.resultInputNames[0]}]\" value=\"${fileData.name}\" />`);\n            resultElemContainer.insertAdjacentHTML('beforeend', `<input type=\"text\" name=\"${this._options.resultPrefix}[${index}][${this._options.resultInputNames[1]}]\" value=\"${fileData.type}\" />`);\n            resultElemContainer.insertAdjacentHTML('beforeend', `<textarea name=\"${this._options.resultPrefix}[${index}][${this._options.resultInputNames[2]}]\">${fileData.result}</textarea>`);\n            resultElemContainer.insertAdjacentHTML('beforeend', `<input type=\"text\" name=\"${this._options.resultPrefix}[${index}][${this._options.resultInputNames[3]}]\" value=\"${fileData.size}\" />`);\n            $resultContainer.appendChild(resultElemContainer);\n        };\n\n\n        // files read function\n        this._filesRead = (event) => {\n            let DOM = event.data.DOM;\n            let filesList;\n            let approvedList = false;\n            let i = 0;\n\n            if (event.target.files) {\n                this._logger('files array source: file selector (click event)', 1);\n                filesList = event.target.files;\n            }\n            else {\n                this._logger('files array source: dropzone (drag & drop event)', 1);\n                filesList = event.dataTransfer.files;\n            }\n            this._logger('%O', 0, filesList);\n\n            // build approved list\n            if (!this._options.allowDuplicates) {\n                let loadedFiles = [];\n                let newFiles = [];\n\n                approvedList = [];\n\n                // build already loaded files list\n                for(let file of $resultContainer.children) {\n                    loadedFiles.push(file.querySelector('input').value);\n                };\n\n                // build current selected files list\n                for (i = 0; i < filesList.length; i++) {\n                    newFiles.push(filesList[i].name);\n                }\n\n                // avoid load twice the same file\n                newFiles.forEach(function(newFile) {\n                    let fileIndex = loadedFiles.indexOf(newFile);\n\n                    if (fileIndex < 0) {\n                        approvedList.push(newFile);\n                    }\n                });\n            }\n\n            $fileContainer.classList.remove('filesContainerEmpty');\n\n            let readFile = (reader, file, index, DOM, uploaderContainer) => {\n                let currentElement = Array.from(DOM.querySelector('.innerFileThumbs').children).filter(function(element) {\n                    return parseInt(element.dataset.index) === index ;\n                });\n                currentElement = currentElement[0];\n                let size = this._round(file.size / 1000000);      // size in MB\n\n                reader.onloadstart = () => {\n                    this._options.onfileloadStart(index);\n                    this._logger(`START read file: ${index}, size: ${size} MB`, 2);\n                };\n\n                reader.onprogress = (event) => {\n                    if (event.lengthComputable) {\n                        let percentLoaded = this._round((event.loaded / event.total) * 100);\n                        this._logger(`File ${index} loaded: ${percentLoaded}`, 3);\n\n                        // Increase the progress bar length.\n                        if (percentLoaded <= 100) {\n                            currentElement.querySelector(':scope > .loadBar > div').style.width = '100%';\n                        }\n                    }\n                };\n\n                reader.onloadend = () => {\n                    let type = file.type;\n                    let name = file.name;\n                    let result = reader.result;\n\n                    // reading unsuccessful\n                    if (!result) {\n                        return false;\n                    }\n\n                    let mimeType = result.substring(0, result.indexOf(';'));\n\n                    // if file has no MIME type, replace with default one\n                    if (mimeType === 'data:' && this._options.defaultMimeType.length > 0) {\n                        result = \"data:\" + this._options.defaultMimeType + result.substring(result.indexOf(';'), result.length);\n                    }\n                    if (type === \"\") {\n                        type = this._options.defaultMimeType;\n                    }\n                    if (name.indexOf('.') < 0 && this._options.defaultFileExt !== '') {\n                        name = `${name}.${this._options.defaultFileExt}`;\n                    }\n\n                    if (!this._options.useSourceFileSize) {\n                        size = this._round(byteLength(result) / 1000000);\n                    }\n\n                    let newFile = {\n                        index: index,\n                        name: name,\n                        type: type,\n                        result: result,\n                        size: size\n                    };\n\n                    this._createResultContainer(newFile);\n\n                    //set direct link on file see button\n                    this._logger(`END read file: ${index}`, 4);\n\n                    let resultObject = {\n                        name: file.name,\n                        type: file.type,\n                        data: result,\n                        size: size\n                    };\n\n                    // update total size\n                    currentTotalSize = currentTotalSize + size;\n                    currentNumberOfFiles++;\n\n                    let currentAvailableSize = instance._round(instance._options.maxTotalSize - currentTotalSize);\n\n                    updateLabel('sizeAvailable', currentAvailableSize);\n                    updateLabel('currentSize', currentTotalSize);\n                    updateLabel('currentNumberOfFiles', currentNumberOfFiles);\n                    updateLabel('numberOfUploadedFiles', '++');\n                    \n                    updateFileSeeLink(result, uploaderContainer, file.name);\n\n                    this._options.onfileloadEnd(index, resultObject, this._round(currentTotalSize), currentNumberOfFiles);\n                };\n\n                // test if loading is allowed\n                function readAllowed(instance) {\n                    reader.readAsDataURL(file);\n                }\n\n                function readRejected(instance, reasons) {\n                    let errorMsg;\n\n                    for (let reason of reasons) {\n                        switch(reason) {\n                            case 'maxFileSize':\n                            errorMsg = currentLangObj.maxSizeExceeded_msg;\n                            instance._logger(`FILE REJECTED: Max file size exceeded - max size: ${instance._options.maxFileSize} MB - file size: ${size} MB`);\n                            break;\n    \n                            case 'maxTotalSize':\n                            errorMsg = currentLangObj.maxTotalSizeExceeded_msg;\n                            instance._logger(`FILE REJECTED: Max total size exceeded - max size: ${instance._options.maxTotalSize} MB - current total size: ${currentTotalSize + size} MB`);\n                            break;\n    \n                            case 'maxNumberOfFiles':\n                            errorMsg = currentLangObj.maxNumberOfFilesExceeded_msg;\n                            instance._logger(`FILE REJECTED: Max number of files exceeded - max number: ${instance._options.maxNumberOfFiles}`);\n                            break;\n                        }\n                    }\n\n                    currentElement.classList.add('error');\n\n                    if (instance._options.showErrorOnLoadBar) {\n                        let loadBar = currentElement.querySelector(':scope > .loadBar');\n                        loadBar.innerHTML = '';\n                        loadBar.insertAdjacentHTML('beforeend', `<div class=\"errorMsg\">${errorMsg}</div>`)\n                    }\n\n                    setTimeout(() => {\n                        if (instance._options.useFileIcons) {\n                            currentElement.getPreviousSibling('img').remove();\n                        }\n                        currentElement.remove();\n                    }, 2000);\n\n                    updateLabel('numberOfRejectedFiles', '++');\n\n                    // error callback\n                    instance._options.onfileRejected(rejectReasons);\n                }\n                \n                let isReadAllowed = true;\n                let rejectReasons = [];\n\n                if (this._options.maxFileSize && size > this._options.maxFileSize) {\n                    isReadAllowed = false;\n                    rejectReasons.push('maxFileSize');\n                }\n                if (this._options.maxTotalSize && (currentTotalSize + size) > this._options.maxTotalSize) {\n                    isReadAllowed = false;\n                    rejectReasons.push('maxTotalSize');\n                }\n                if (this._options.maxNumberOfFiles && currentNumberOfFiles >= this._options.maxNumberOfFiles) {\n                    isReadAllowed = false;\n                    rejectReasons.push('maxNumberOfFiles');\n                }\n\n                isReadAllowed ? readAllowed(this) : readRejected(this, rejectReasons);\n            }\n\n            function appendMessage($message) {\n                setTimeout(() => {\n                    $message.remove();\n                }, 2000);\n            }\n\n            // create a new div containing thumb, delete button and title field for each target file\n            for (i = 0; i < filesList.length; i++) {\n                let file = filesList[i];\n                let reader = new FileReader();\n\n                // test for duplicates\n                if (approvedList && approvedList.indexOf(file.name) < 0) {\n                    if (this._options.duplicatesWarning) {\n                        let $info = document.createElement('div');\n                        $info.className = 'errorLabel center';\n\n                        $info.innerHTML = currentLangObj.duplicated_msg;\n                        $fileThumbsContainer.appendChild($info);\n                        appendMessage($info);\n                    }\n\n                    this._logger(`File duplicated: ${file.name} -> skipping...`, 2);\n                    continue;\n                }\n\n                let fileName, fileExt;\n\n                if (file.name.lastIndexOf('.') > 0) {\n                    fileName = file.name.substring(0, file.name.lastIndexOf('.'));\n                    fileExt = file.name.substring(file.name.lastIndexOf('.') + 1, file.name.length);\n                }\n                else {\n                    fileName = file.name;\n                    fileExt = this._options.defaultFileExt;\n                }\n\n                // test for filenames\n                let nameTest = this._options.filenameTest(fileName, fileExt, $fileThumbsContainer);\n                if (nameTest === false) {\n                    this._logger(`Invalid file name: ${file.name}`, 2);\n                    continue;\n                }\n                else {\n                    if (nameTest !== undefined && nameTest !== true) {\n                        fileName = nameTest;\n                    }\n                }\n\n                let uploaderContainer = this._createUploaderContainer(globalIndex, fileName, fileExt);\n\n                // now read!\n                readFile(reader, file, globalIndex, DOM, uploaderContainer);\n                globalIndex++;\n            }\n        };\n\n        /*\n        *  -------------------------------------------------------------\n        *  |                       MAIN FLOW                           |\n        *  -------------------------------------------------------------\n        */\n        // initialization\n        if (this._options.name) {\n            this._logger('INITIALIZED INSTANCE: ' + this._options.name);\n        }\n        // build HTML template\n        let template = this._options.HTMLTemplate();\n\n        $el.insertAdjacentHTML('beforeend', template);        \n\n        let globalIndex = 0;\n        let $resultContainer = $el.querySelector('.' + this._options.resultContainerClass);\n        let $loadBtn = $el.querySelector('.fileLoader');\n        let $fileContainer = $el.querySelector('.filesContainer');\n        let $fileThumbsContainer = $el.querySelector('.innerFileThumbs');\n        let dropZone = $el.querySelector('.dropZone');\n        let currentLangObj = this._options.langs[this._options.lang];\n        let currentTotalSize = 0;\n        let currentNumberOfFiles = 0;\n        let loadedFile;\n        let instanceLabels = {};\n        let labelsClasses = this._options.labelsClasses;\n\n        // place reloaded files' HTML in result container directly (if provided)\n        if (this._options.reloadHTML) {\n            $resultContainer.innerHTML = this._options.reloadHTML;\n        }\n\n\n        $el.querySelector('.introMsg').innerHTML = currentLangObj.intro_msg;\n        dropZone.innerHTML = currentLangObj.dropZone_msg;\n\n        if (!this._options.debug) {\n            $resultContainer.classList.add('hide');\n        }\n        else {\n            $resultContainer.insertAdjacentHTML('beforebegin', '<p class=\"debugMode\">Debug mode: on</p>');\n            $resultContainer.insertAdjacentHTML('beforebegin', `<div class=\"debug\">Uploaded files: <span class=\"${labelsClasses.numberOfUploadedFiles}\"><span>0</span></span> | Rejected files: <span class=\"${labelsClasses.numberOfRejectedFiles}\"><span>0</span></span></div>`);\n            $resultContainer.insertAdjacentHTML('beforebegin', `<div class=\"debug\">MAX FILE SIZE: ${this._options.maxFileSize} MB</div>`);\n            $resultContainer.insertAdjacentHTML('beforebegin', `<div class=\"debug\">MAX TOTAL SIZE: ${this._options.maxTotalSize} MB</div>`);\n            $resultContainer.insertAdjacentHTML('beforebegin', `<div class=\"debug\">MAX NUMBER OF FILES: ${this._options.maxNumberOfFiles === false ? '(none)' : this._options.maxNumberOfFiles}</div>`);\n            $resultContainer.insertAdjacentHTML('beforebegin', `<div class=\"debug currentNumberOfFiles\">Number of files uploaded: <span>${currentNumberOfFiles}</span></div>`);\n            $resultContainer.insertAdjacentHTML('beforebegin', `<div class=\"debug sizeAvailable\">Size still available: <span>${this._options.maxTotalSize}</span> MB</div>`);\n        }\n\n        // --- FILES RELOAD SECTION ---\n        // lookup for previously loaded files placed in the result container directly        \n        for (let label in labelsClasses) {\n            instanceLabels[`${label}Labels`] = [];\n        }\n\n        let labelsContainers = this._options.labelsContainers;\n\n        if (this._options.debug) {\n            // handle debug dynamic (labels with a static value don't need to be cached) labels\n            instanceLabels.sizeAvailableLabels.push($el.querySelector(`.${labelsClasses.sizeAvailable}`));\n            instanceLabels.currentNumberOfFilesLabels.push($el.querySelector(`.${labelsClasses.currentNumberOfFiles}`));\n            instanceLabels.numberOfUploadedFilesLabels.push($el.querySelector(`.${labelsClasses.numberOfUploadedFiles}`));\n            instanceLabels.numberOfRejectedFilesLabels.push($el.querySelector(`.${labelsClasses.numberOfRejectedFiles}`));\n        }\n        if (labelsContainers) {\n            const getContainer = function(selector) {\n                return document.querySelector(selector);\n            }\n\n            for (let label in labelsClasses) {\n                function findLabel(container, labelsClasses, label) {\n                    if (container) {\n                        let labels = container.querySelector(`.${labelsClasses[label]}`);\n                        \n                        if (labels) {\n                            instanceLabels[`${label}Labels`].push(labels);\n                        }\n                    }\n                    else {\n                        this._logger(`impossible to find labelContainer '${selector}'`, 1);\n                    }\n                }\n\n                if (Array.isArray(labelsContainers)) {\n                    for (let selector of labelsContainers) {\n                        let container = getContainer(selector);\n    \n                        findLabel(container, labelsClasses, label);\n                    }\n                }\n                else {\n                    let container = getContainer(labelsContainers);\n    \n                    if (container) {\n                        let labels = container.querySelector(`.${labelsClasses[label]}`);\n\n                        if (labels) {\n                            instanceLabels[`${label}Labels`].push(labels);\n                        }\n                    }\n                    else {\n                        this._logger(`impossible to find labelContainer '${labelsContainers}'`, 1);\n                    }\n                }\n            }\n        }\n\n        updateLabel('maxFileSize', this._options.maxFileSize);\n        updateLabel('maxTotalSize', this._options.maxTotalSize);\n        updateLabel('maxNumberOfFiles', this._options.maxNumberOfFiles);\n\n        for (const [index, element] of $resultContainer.querySelectorAll(`:scope > .${this._options.resultFileContainerClass}`).entries()) {\n            this._logger(`found previously uploaded file: index = ${element.dataset.index}`, 2);\n\n            // pay attention to index used on fileData here: index 0 is the title DIV!\n            let fileData = element.querySelectorAll(':scope > input');\n            let fileName = fileData[0].value;\n            let fileExt = fileData[1].value;\n            let fileSize = fileData[2].value;\n\n            if (fileName.lastIndexOf('.') > 0) {\n                fileName = fileName.substr(0, fileName.lastIndexOf('.'));\n            }\n\n            loadedFile = this._createUploaderContainer(globalIndex, fileName, fileExt);\n            loadedFile.querySelector(':scope > .loadBar > div').style.width = '100%';\n            loadedFile.classList.add(this._options.reloadedFilesClass);\n\n            let data = element.querySelector(':scope textarea').value;\n\n            updateFileSeeLink(data, loadedFile, fileName);\n\n            currentTotalSize = currentTotalSize + parseFloat(fileSize);\n            currentNumberOfFiles++;\n            globalIndex++;\n        }\n\n        // reload files from provided array\n        if (this._options.reloadArray.length > 0) {\n            this._options.reloadArray.forEach((file, index) => {\n                // re-create visible elements\n                loadedFile = this._createUploaderContainer(index, file.name, file.ext);\n                loadedFile.querySelector(':scope > .loadBar > div').style.width = '100%';\n                loadedFile.classList.add(this._options.reloadedFilesClass);\n\n                this._logger('found previously uploaded file: index = ' + index, 2);\n\n                // re-create results\n                let newFile = {\n                    index: index,\n                    name: file.name,\n                    type: file.ext,\n                    result: file.data,\n                    size: file.size\n                };\n\n                updateFileSeeLink(file.data, loadedFile, file.name);\n\n                this._createResultContainer(newFile);\n\n                currentTotalSize = currentTotalSize + parseFloat(file.size);\n                currentNumberOfFiles++;\n                globalIndex++;\n            });\n        }\n\n        currentTotalSize = this._round(currentTotalSize);\n\n        this._logger(`current total size: ${currentTotalSize} - current number of files: ${currentNumberOfFiles}`);\n        updateLabel('sizeAvailable', (this._options.maxTotalSize - currentTotalSize));\n        updateLabel('currentSize', currentTotalSize);\n        updateLabel('currentNumberOfFiles', currentNumberOfFiles);\n        updateLabel('numberOfUploadedFiles', currentNumberOfFiles);\n        updateLabel('numberOfRejectedFiles', '0');\n        // --- END FILES RELOAD SECTION ---\n\n        // onload callback\n        this._options.onload(this._options, currentTotalSize, currentNumberOfFiles);\n\n        // Drag events\n        this.handleDragOver = (event) => {\n            dropZone.classList.add('highlight');\n            event.stopPropagation();\n            event.preventDefault();\n            event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\n        }\n        this.handleDrop = (event) => {\n            dropZone.classList.remove('highlight');\n            event.data = {\n                DOM: $el\n            };\n            this._filesRead(event);\n        }\n\n        dropZone.addEventListener('dragleave', () => {\n            dropZone.classList.remove('highlight');\n        });\n        dropZone.addEventListener('dragover', this.handleDragOver);\n        dropZone.addEventListener('drop', () => {\n            event.stopPropagation();\n            event.preventDefault();\n            this.handleDrop(event);\n        });\n\n        dropZone.addEventListener('click', (event) => {\n            $loadBtn.click();\n        });\n\n        $loadBtn.addEventListener('change', (event) => {\n            event.data = {\n                DOM: $el\n            };\n            this._filesRead(event);\n            this.value = null;\n        });\n\n        return {\n            fileUploader: instance,\n            elementDOM: $el\n        };\n    };\n})(window);\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.deepmerge = factory());\n}(this, (function () { 'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tObject.keys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tObject.keys(source).forEach(function(key) {\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nreturn deepmerge_1;\n\n})));\n"]}