<!DOCTYPE HTML>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="css/fileUploader.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">

    <script type="text/javascript" src="lib/jquery-2.1.4.js"></script>
    <script type="text/javascript" src="js/fileUploader.js"></script>
</head>

<body>
    <header>
        <h2>File Uploader v2.3.0</h2>
        <p>
            A file uploader skeleton that uses HTML5 file reader api
        </p>  
    </header>
    
    <main>
        <h2>Multi uploader example</h2>
        <h3>fileUploader 1</h3>
        <div class="fileUploader" id="one">
            <p class="introMsg"></p>
            <div>
                <div class="inputContainer">
                    <input class="fileLoader" type="file" id="attachments" name="attachments" multiple />
                </div>
                <div class="dropZone"></div>
                <div class="filesContainer filesContainerEmpty">
                    <div class="innerFileThumbs"></div>
                    <div style="clear:both;"></div>
                </div>
            </div>
            <div class="result"></div>
        </div>
    
        <h3>fileUploader 2</h3>
        <div class="fileUploader" id="two">
            <p class="introMsg"></p>
            <div>
                <div class="inputContainer">
                    <input class="fileLoader" type="file" id="attachments" name="attachments" multiple />
                </div>
                <div class="dropZone"></div>
                <div class="filesContainer filesContainerEmpty">
                    <div class="innerFileThumbs"></div>
                    <div style="clear:both;"></div>
                </div>
            </div>
            <div class="result"></div>
        </div>
        
        <br>
        <p>
            In this example "save" button will log the loaded files in console;<br>
            then you have to handle these results (ex. sending them to a remote procedure using ajax)...
        </p>
        <a id="save1" class="ckBtn">Save 1</a>&nbsp;&nbsp;&nbsp;<a id="save2" class="ckBtn">Save 2</a> (Logs result in console)<br><br>
        <a id="getCurrentTotalSize1" class="ckBtn">Get Total Size 1</a>&nbsp;&nbsp;&nbsp;
        <a id="getCurrentTotalSize2" class="ckBtn">Get Total Size 2</a><br>
    </main>
    
    <footer>
        <p>
            File Uploader<br><br>
            Available under <a href="http://opensource.org/licenses/MIT" target="_blank">MIT license</a>
        </p>
    </footer>
</body>

<script tyle="text/javascript">
    var files = [
        {
            name: "try1",
            ext: "jpeg",
            data: "ldjahflòksdjòflaksjdflk",
            size: 0.3
        },
        {
            name: "try2",
            ext: "pdf",
            data: "dgjhakjhsdjkhjhjklasdikfj asdilfj",
            size: 1.2
        }
    ];

    $('#one').fileUploader({
        useFileIcons: false,
        fileMaxSize: 1.7,
        totalMaxSize: 5,
        debug: true,
        reloadArray: files
    });

    $('#two').fileUploader({
        useFileIcons: false,
        fileMaxSize: 1.7,
        totalMaxSize: 5,
        debug: true,
        debugLogStyle: "color: #ff5500"
    });

    $('#save1').click(function() {
        var result = $('#one').fileUploader('getData');
        //do what you need with result (ex. send ajax call to remote procedure to persist files)
    });
    $('#save2').click(function() {
        var result = $('#two').fileUploader('getData');
        //do what you need with result (ex. send ajax call to remote procedure to persist files)
    });

    $('#getCurrentTotalSize1').click(function() {
        console.log("Current total size uploader 1: " + $('#one').fileUploader('get', 'currentTotalSize'));
    });
    $('#getCurrentTotalSize2').click(function() {
        console.log("Current total size uploader 2: " + $('#two').fileUploader('get', 'currentTotalSize'));
    });

</script>
</html>